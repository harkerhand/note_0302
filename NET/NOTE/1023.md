# 如何传输二进制数据

  

## 数据转化为信号

模拟信号需要放大器，连续信号需要中继器

**码元：**进行数字传输时的基本信号单位。码元的可能状态数决定了一个码元可以携带的比特位个数。

**波特：**单位时间内传输码元的个数即波特率。

数字信号传输数据：

- 不归零制NRZ：零就是零，一就是一
- 归零制RZ：高电平代表 1，低电平代表 0。带宽浪费、抗干扰 能力差
    
    ![[../../assets/image 22.png|image 22.png]]
    
- 曼彻斯特编码：每一位中间有一个跳变,低到高表示0，高到低表示1。中间跳变既作为数据又作为时钟。（早期以太网）
- 差分曼彻斯特编码：每一位中间有一个跳变，每位开始有跳变表示0，无跳变表示1。时钟数据分离，易于检测。（令牌环网）

模拟信号传输数据：

![[../../assets/image 1 16.png|image 1 16.png]]

## 数据传输方式

数字/模拟，并行/串行，单工/全双工/半双工，点对点/点到多点

## 信号传输途径

**信道 ：**

- 定义：信息单向传输的途径
- 分类：模拟/数字，逻辑/物理，有线/无线

![[../../assets/image 2 14.png|image 2 14.png]]

**信道的传输能力：**

- 信道带宽：信道可以不失真地传输信号的频率范围
- 信道容量：信道单位时间内可以传输的最大数据量
- 传输速率：单位时间内传输的二进制位数，位/秒(bps)

**信道的传输质量：**

- 差错率：误码率、误分组率、误字符率等，产生原因为噪声影响、信道带宽的限制

任何实际的信道都不是理想的，都不可能以任意高的速率进行传送

**奈奎斯特定理：**信道的最大码元传输速率 = 2B (码元/秒)

信道极限容量：$C = 2B\log_2M (b/s)$，其中$M$为调制进制数

**香农定理：**$C = B \log_2(1+S/N) (b/s)$，S为信道内所传信号的平均功率，N为信道内部的高斯噪声功率。

**物理信道：**引导性（有线），非引导性（无线）

- 双绞线、同轴线（铜芯带绝缘外包）、数字BASE(数字/T/F)（带宽Mbps，X00米/双绞线/光纤）、光纤
- 短波（无线电），地面微波，卫星通信，

## 连接主机和设备

**网络接口：**实现计算机/设备与传输介质相连,实现二进制位流传输

**物理层：**在连接计算机/设备的传输介质上传输比特流，而不是指具体的传输介质

**物理层协议：**规定了计算机/设备与传输介质之间的接口特性：机械特性、电气特性、功能特性、规程特性。尽可能地屏蔽掉不同传输介质和通信手段的差异。

- 机械特性：接口的物理结构、形状和尺寸、引线数目和排列、固定和锁定装置
- 电气特性：电压范围
- 功能特性：描述接口执行的功能，定义接线器的每一引脚(针Pin)的作用
- 规程特性：在物理连接建立、维持和交换信息时，通信双方在各自电路上的动作序列。
    
    |协议三要素|对应物理层特性|
    |---|---|
    |**语法**|**机械特性、电气特性**|
    |**语义**|**功能特性**|
    |**时序**|**规程特性**|
    

**点对点通信：**RS232，RJ45

**点对多点：**星型、环形、总线型

拓扑结构分为物理拓扑和逻辑拓扑

  

![[../../assets/image 3 10.png|image 3 10.png]]

  

# 数据可靠传输

## 如何从比特流中区分数据

**帧（Frame）：**接收方必须能从物理层接收的比特流中明确区分出一帧的 开始和结束,被称为帧同步或帧定界

**成帧的方法：**

- 字节计数法( Byte count ) ，一步错步步错
    
    ![[../../assets/image 4 6.png|image 4 6.png]]
    
- 字符填充的首尾界定法( Flag with character stuffing )
    
    前后定界符，中间的定界符用转义
    
- 比特填充的首尾标志法( Flag with bit stuffing )
    
    定界符 0x5E，
    
    发送方检查有效载荷，若在有效载荷中出现连续5个1比特，则直接插入1个0比特
    
    接收方的处理，若出现连续5个1比特，直接丢弃后面的0比特
    
- 物理层编码违例( Physical layer coding violations )
    
    ![[../../assets/image 5 6.png|image 5 6.png]]
    

## 如何发现数据错误

- 差错：纠错
    
    被发送的数据块中包含一些冗余信息，这些冗余信息只能使接收方推断是否发生错误，不能推断哪些位发生错误
    
    奇偶校验，校验和，循环冗余校验
    
- 丢失：确认/定时器
- 乱序：序号
- 重复：序号